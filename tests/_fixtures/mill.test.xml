<?xml version="1.0" encoding="UTF-8"?>
<mill
    name="Mill unit test API, Showtimes"
    language="php"
>
    <versions>
        <version name="1.0" releaseDate="2017-01-01" />
        <version name="1.1" releaseDate="2017-02-01" />
        <version name="1.1.1" releaseDate="2017-03-01" />
        <version name="1.1.2" releaseDate="2017-04-01" default="true" />
        <version name="1.1.3" releaseDate="2017-05-27">
            Changed up the responses for `/movie/{id}`, `/movies/{id}` and `/movies`.
        </version>
    </versions>

    <generators>
        <blueprint>
            <excludes>
                <!-- This is here just for code coverage purposes, and to verify that we're able to exclude resource
                    namespaces when loading a config XML file. -->
                <exclude namespace="FakeExcludeNamespace" />
            </excludes>
        </blueprint>
    </generators>

    <controllers>
        <filter>
            <directory name="resources/examples/Showtimes/Controllers/" suffix=".php" />

            <!--<excludes>-->
                <!-- This is here just for code coverage purposes, and to verify that we're able to exclude controllers
                    when loading a config XML file. -->
                <!--<exclude name="\IAmNotARealClass" />-->
            <!--</excludes>-->
        </filter>
    </controllers>

    <representations>
        <filter>
            <directory name="resources/examples/Showtimes/Representations/" suffix=".php"  />
            <file name="resources/examples/Showtimes/Representations/Movie.php" />

            <excludes>
                <file name="resources/examples/Showtimes/Representations/Error.php" />
                <file name="resources/examples/Showtimes/Representations/CodedError.php" />
                <file name="resources/examples/Showtimes/Representations/Representation.php" />
            </excludes>
        </filter>

        <errors>
            <file name="resources/examples/Showtimes/Representations/Error.php" needsErrorCode="false" />
            <file name="resources/examples/Showtimes/Representations/CodedError.php" needsErrorCode="true" />
        </errors>
    </representations>

    <scopes>
        <scope name="create" />
        <scope name="delete" />
        <scope name="edit" />
        <scope name="public" />
    </scopes>

    <capabilities>
        <capability name="BUY_TICKETS" />
        <capability name="DELETE_CONTENT" />
        <capability name="FEATURE_FLAG" />
        <capability name="MOVIE_RATINGS" />
    </capabilities>

    <parameterTokens>
        <token name="page">page (integer, optional) - The page number to show.</token>
        <token name="per_page">per_page (integer, optional) - Number of items to show on each page. Max 100.</token>
        <token name="filter">filter (string, optional) - Filter to apply to the results.</token>
    </parameterTokens>

    <uriSegments>
        <translations>
            <translation from="movie_id" to="id" />
            <translation from="theater_id" to="id" />
        </translations>
    </uriSegments>
</mill>
